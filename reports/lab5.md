# Lab 5

这个实验做起来不是很难，按要求做相应的实现就好了。

要注意的一方面是`RefCell`有一些运行时的检查，不要同时获取多个可变引用，该`drop`的时候要及时`drop`。这个如果实现不对的话直接`panic`报错就能看到，不过因为目前的`panic_handler`不会打印调用栈信息，要判断是在哪个函数出的问题就有点痛苦了，需要多加一些log进行定位。

另外就是`Arc`虽然大多数情况下都会在生命周期结束后自动减少计数，不过因为函数`exit_current_and_run_next`会直接通过`__switch`切换到下个进程不会返回，所以在调用这个函数之前要主动`drop`。因为这里不会直接报错，如果没注意的话想把这个问题调出来也要费点功夫。

还有就是发现课程代码里`exec`切换到新程序的时候没有重置`heap_bottom`和`program_brk`。
